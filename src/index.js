import PermissionSmartContract from "../app/Permission/PermissionSmartContract";
import SimpleStorageSmartContract from "../app/SimpleStorage/SimpleStorageSmartContract";
import { SimpleStorageSmartContract_getValue, SimpleStorageSmartContract_setValue } from "../app/SimpleStorage/SimpleStorageSmartContractFunctions";
import AltCoinSmartContract from "../app/AltCoin/AltCoinSmartContract";
import { buyINK, transferINK, transferBCERT, getTransaction, getTransactionReceipt, addHashData } from "../app/bcbc/transactions";
import { BCAttestationContract, createAttestationData } from "../app/BCAttestation/BCAttestationContract";
import { ethers } from 'ethers';
import { HashContract, addHash } from "../app/HashContract/HashContract";

// PermissionSmartContract();

// SimpleStorageSmartContract();

// SimpleStorageSmartContract_getValue();

// SimpleStorageSmartContract_setValue("A new value - 123");

// AltCoinSmartContract();

// buyINK("283e0c2cfb9921f5cd94a38849a411da29fa361d01997df88c9a68fd2dff278f", 10)
//     .then(result =>
//     {
//         console.log(result);
//     })
//     .catch(error =>
//     {
//         console.log(error);
//     });

// transferINK("283e0c2cfb9921f5cd94a38849a411da29fa361d01997df88c9a68fd2dff278f", "0x9960eE65550da5ec7054f307b161eD69E9D47a77", 10)
//     .then(result =>
//     {
//         console.log(result);
//     })
//     .catch(error =>
//     {
//         console.log(error);
//     })

// transferBCERT("283e0c2cfb9921f5cd94a38849a411da29fa361d01997df88c9a68fd2dff278f", "0x9960eE65550da5ec7054f307b161eD69E9D47a77", 10)
//     .then(result =>
//     {
//         console.log(result);
//     })
//     .catch(error =>
//     {
//         console.log(error);
//     })

// let transactionHash = "0x1d016820568d3580cdac28f7cfaa141ec0c1d396d7cc652cdef32b08e051cc22";
// getTransaction(transactionHash).then(r => console.log("Transaction", r)).catch(e => console.log(e));
// getTransactionReceipt(transactionHash).then(r => console.log("TransactionReceipt", r)).catch(e => console.log(e));

// BCAttestationContract();
// PermissionSmartContract();

// createAttestationData("3", "3", "test", "abcd", "3");


// getTransactionReceipt("0x12797ed177c9af39aefb1a0e0f05601028eb9118399ecf28ae2479a656ee9ce9").then(r =>
// {
//     console.log(r);
//     let abi = [
//         "event AttestationCreated(bytes32 indexed _kecackHash, string _accountId, string _hashId, string _hashType, string _hash,string _version)"
//     ];
//     let iface = new ethers.utils.Interface(abi);
//     console.log(iface.parseLog(r.logs));

// })
//     .catch(e => console.log(e));

//indexed data is not included
// var info = ethers.utils.defaultAbiCoder.decode(['string', 'string', 'string', 'string', 'string'], "0x00000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e00000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000000000000000000000000016000000000000000000000000000000000000000000000000000000000000001a00000000000000000000000000000000000000000000000000000000000000001320000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000013200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000474657374000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004616263640000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000013200000000000000000000000000000000000000000000000000000000000000")
// console.log(info);


// HashContract();
/*
0xC01A59D64A79987cB711830e1E14d64B89a14b61
0x2a144e8dc550330ef1d2f5d700f6f60763a389c4cba5027469b3c0503dde348f

//public counter
0x0252CD567eb023857c974B9E2d2f19EA58Aad9d3
0xc31d82b21ad44e2634af72281dbc35b2352b654e61f82d6888f6fec96e1082f2

//single param
0x9fff62af33d5D94EafD2bD992839267628966bB4
0x5f6df03f5a29b61651c80480bfbb914fa4ee1ae678f8a10f1b798441a00eae76
*/

// addHash(JSON.stringify({
//     accountId: 123,
//     hashId: 1,
//     hash: "whatever",
//     type: "someType",
//     version: 1
// }));
//0x61f841434657fc81a90f19990c654625e43a1d23058099eee01e335747d42dc0

// addHash("1", "1", "test", "test", "1");

getTransactionReceipt("0x5bfa83db40d431b485f81cd2d282836b29aea53373fb5d3ec11a29b2b002ca28").then(r =>
{
    console.log(r);
    var info = ethers.utils.defaultAbiCoder.decode(['uint', 'string', 'string', 'string', 'string', 'uint'], r.logs[0].data);
    console.log(info);
})
    .catch(error =>
    {
        console.log(error);

    });


// var info = ethers.utils.defaultAbiCoder.decode(['uint', 'string', 'string', 'string', 'string', 'string'], "0x000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000140000000000000000000000000000000000000000000000000000000000000018000000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000000001310000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000013100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000474657374000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008736f6d65696e666f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000013100000000000000000000000000000000000000000000000000000000000000");
// console.log(info);

// addHashData("30b821f3d04cc818bf795540e4715fd450e64082a13e09bc32c744e6e93d38b3", "1", "1", "test", "test", 1).then(t =>
// {
//     console.log(t);
// })
//     .catch(e => console.log(e));

// addHashData("556a0f5d7ca72b8f03bc5ea06ebfb08c41e9ab1edc62d68609f2618e39c57a8a", "1405", "1001819", "File", "3c0c986b2cc6d2f56d69982158d53f46", 145)
//     .then(t =>
//     {
//         console.log("add hash");
//         console.log(t);
//     })
//     .catch(e => console.log(e));

// var info = ethers.utils.defaultAbiCoder.decode(['uint', 'string', 'string', 'string', 'string', 'uint'], "0x000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001400000000000000000000000000000000000000000000000000000000000000180000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000013100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000131000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004746573740000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000047465737400000000000000000000000000000000000000000000000000000000");

// console.log(info);